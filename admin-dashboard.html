<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - The Ekklesia Zion Embassy</title>
    <meta name="description" content="Admin dashboard for managing church events, projects, and content.">
    
    <!-- External CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">
    
    <style>
        .admin-sidebar {
            background: linear-gradient(180deg, var(--primary), var(--accent));
            color: white;
            width: 280px;
            min-height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 1000;
            transition: transform 0.3s ease;
            overflow-y: auto;
        }
        
        .admin-sidebar.collapsed {
            transform: translateX(-100%);
        }
        
        .admin-main {
            margin-left: 280px;
            min-height: 100vh;
            background: #f8fafc;
            transition: margin-left 0.3s ease;
        }
        
        .admin-main.expanded {
            margin-left: 0;
        }
        
        .admin-header {
            background: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .sidebar-brand {
            padding: 2rem 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
        }
        
        .sidebar-nav {
            padding: 1rem 0;
        }
        
        .nav-item {
            margin: 0.25rem 1rem;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .nav-link:hover,
        .nav-link.active {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            transform: translateX(5px);
        }
        
        .nav-link.active {
            background: var(--secondary);
            color: var(--primary);
        }
        
        .dashboard-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border: 1px solid #e5e7eb;
        }
        
        .dashboard-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .stat-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: rotate(45deg);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 1;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .content-section {
            display: none;
            padding: 2rem;
        }
        
        .content-section.active {
            display: block;
        }
        
        .page-header {
            margin-bottom: 2rem;
        }
        
        .page-title {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .page-subtitle {
            color: #6b7280;
            font-size: 1.1rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }
        
        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn-secondary:hover {
            background: var(--primary);
            color: white;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .data-table th {
            background: var(--primary);
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }
        
        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .data-table tr:hover {
            background: #f9fafb;
        }
        
        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .status-active {
            background: #d1fae5;
            color: #059669;
        }
        
        .status-draft {
            background: #fef3c7;
            color: #d97706;
        }
        
        .status-completed {
            background: #dbeafe;
            color: #2563eb;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark-gray);
        }
        
        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(10, 36, 99, 0.1);
        }
        
        .progress-bar {
            background: #e5e7eb;
            border-radius: 10px;
            height: 8px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--primary);
        }
        
        @media (max-width: 768px) {
            .admin-sidebar {
                transform: translateX(-100%);
            }
            
            .admin-sidebar.mobile-open {
                transform: translateX(0);
            }
            
            .admin-main {
                margin-left: 0;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            .content-section {
                padding: 1rem;
            }
        }
        
        .quick-actions {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .action-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 200px;
        }
        
        .action-card:hover {
            border-color: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .action-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
            color: white;
        }
        
        /* Blog Management Styles */
        .btn-sm {
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        /* Notification Styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 3000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        
        .notification.error {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }
        
        .notification.info {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
        }
        
        /* Blog form specific styles */
        .blog-filters {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .blog-posts-list {
            min-height: 200px;
        }
        
        /* Responsive improvements */
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .blog-filters {
                flex-direction: column;
                align-items: stretch;
            }
            
            .notification {
                right: 10px;
                left: 10px;
                transform: translateY(-100px);
            }
            
            .notification.show {
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <!-- Admin Sidebar -->
    <div id="admin-sidebar" class="admin-sidebar">
        <div class="sidebar-brand">
            <div class="flex items-center justify-center mb-2">
                <div class="w-12 h-12 bg-secondary rounded-full flex items-center justify-center overflow-hidden">
                    <img src="logo.jpg" alt="The Ekklesia Zion Embassy Logo" class="w-full h-full object-cover">
                </div>
            </div>
            <h2 class="heading-font text-lg font-bold">Admin Panel</h2>
            <p class="text-sm opacity-75">Zion Embassy</p>
        </div>
        
        <nav class="sidebar-nav">
            <div class="nav-item">
                <a href="#" class="nav-link active" onclick="showSection('dashboard')">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" onclick="showSection('events')">
                    <i class="fas fa-calendar-alt"></i>
                    Events
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" onclick="showSection('projects')">
                    <i class="fas fa-project-diagram"></i>
                    Funding Projects
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" onclick="showSection('blog')">
                    <i class="fas fa-newspaper"></i>
                    Blog & News
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" onclick="showSection('content')">
                    <i class="fas fa-edit"></i>
                    Content Management
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" onclick="showSection('users')">
                    <i class="fas fa-users"></i>
                    User Management
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" onclick="showSection('analytics')">
                    <i class="fas fa-chart-bar"></i>
                    Analytics
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" onclick="showSection('settings')">
                    <i class="fas fa-cog"></i>
                    Settings
                </a>
            </div>
            <div class="nav-item" style="margin-top: 2rem; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 1rem;">
                <a href="index.html" class="nav-link">
                    <i class="fas fa-globe"></i>
                    View Website
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </a>
            </div>
        </nav>
    </div>
    
    <!-- Main Content Area -->
    <div id="admin-main" class="admin-main">
        <!-- Header -->
        <header class="admin-header">
            <div class="flex items-center gap-4">
                <button class="mobile-menu-toggle" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 class="text-xl font-bold text-gray-800">Admin Dashboard</h1>
            </div>
            
            <div class="flex items-center gap-4">
                <div class="text-sm text-gray-600">
                    <i class="fas fa-user mr-1"></i>
                    Welcome, <span id="admin-username">Admin</span>
                </div>
                <div class="text-sm text-gray-500" id="current-time"></div>
            </div>
        </header>
        
        <!-- Dashboard Section -->
        <section id="dashboard-section" class="content-section active">
            <div class="page-header">
                <h2 class="page-title heading-font">Dashboard Overview</h2>
                <p class="page-subtitle">Welcome to your admin dashboard. Here's what's happening at Zion Embassy.</p>
            </div>
            
            <!-- Quick Stats -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="stat-card">
                    <div class="stat-number">12</div>
                    <div class="stat-label">Upcoming Events</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Active Projects</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">R85K</div>
                    <div class="stat-label">Funds Raised</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">247</div>
                    <div class="stat-label">Registrations</div>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="quick-actions">
                <div class="action-card" onclick="openModal('event-modal')">
                    <div class="action-icon">
                        <i class="fas fa-plus"></i>
                    </div>
                    <h3 class="font-bold mb-2">Create Event</h3>
                    <p class="text-sm text-gray-600">Add a new church event</p>
                </div>
                
                <div class="action-card" onclick="openModal('project-modal')">
                    <div class="action-icon">
                        <i class="fas fa-hammer"></i>
                    </div>
                    <h3 class="font-bold mb-2">New Project</h3>
                    <p class="text-sm text-gray-600">Create funding project</p>
                </div>
                
                <div class="action-card" onclick="showSection('analytics')">
                    <div class="action-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3 class="font-bold mb-2">View Reports</h3>
                    <p class="text-sm text-gray-600">Check analytics</p>
                </div>
            </div>
            
            <!-- Recent Activity -->
            <div class="dashboard-card">
                <h3 class="text-lg font-bold mb-4">Recent Activity</h3>
                <div class="space-y-3">
                    <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                        <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-calendar text-green-600 text-sm"></i>
                        </div>
                        <div>
                            <p class="font-medium">Youth Summer Camp event created</p>
                            <p class="text-sm text-gray-600">2 hours ago</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                        <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-donate text-blue-600 text-sm"></i>
                        </div>
                        <div>
                            <p class="font-medium">R5,000 donated to Youth Center Project</p>
                            <p class="text-sm text-gray-600">5 hours ago</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                        <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-user-plus text-purple-600 text-sm"></i>
                        </div>
                        <div>
                            <p class="font-medium">15 new event registrations</p>
                            <p class="text-sm text-gray-600">1 day ago</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Events Section -->
        <section id="events-section" class="content-section">
            <div class="page-header">
                <div class="flex justify-between items-center">
                    <div>
                        <h2 class="page-title heading-font">Event Management</h2>
                        <p class="page-subtitle">Create and manage church events and activities.</p>
                    </div>
                    <button class="btn-primary" onclick="openModal('event-modal')">
                        <i class="fas fa-plus"></i>
                        Create Event
                    </button>
                </div>
            </div>
            
            <div class="dashboard-card">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold">All Events</h3>
                    <div class="flex gap-2">
                        <select class="form-select" style="width: auto;">
                            <option>All Categories</option>
                            <option>Worship</option>
                            <option>Youth</option>
                            <option>Family</option>
                            <option>Special</option>
                        </select>
                    </div>
                </div>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Event Name</th>
                            <th>Date</th>
                            <th>Category</th>
                            <th>Registrations</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="events-table-body">
                        <tr>
                            <td>Youth Summer Camp</td>
                            <td>July 15-17, 2023</td>
                            <td>Youth</td>
                            <td>45/60</td>
                            <td><span class="status-badge status-active">Active</span></td>
                            <td>
                                <button class="btn-secondary btn-sm" onclick="editEvent('youth-camp')">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn-secondary btn-sm" onclick="viewRegistrations('youth-camp')">
                                    <i class="fas fa-users"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>Prayer & Fasting</td>
                            <td>August 2, 2023</td>
                            <td>Worship</td>
                            <td>28/50</td>
                            <td><span class="status-badge status-active">Active</span></td>
                            <td>
                                <button class="btn-secondary btn-sm" onclick="editEvent('prayer-meeting')">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn-secondary btn-sm" onclick="viewRegistrations('prayer-meeting')">
                                    <i class="fas fa-users"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>Couples Retreat</td>
                            <td>August 5, 2023</td>
                            <td>Family</td>
                            <td>12/20</td>
                            <td><span class="status-badge status-draft">Draft</span></td>
                            <td>
                                <button class="btn-secondary btn-sm" onclick="editEvent('couples-retreat')">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn-secondary btn-sm" onclick="viewRegistrations('couples-retreat')">
                                    <i class="fas fa-users"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        
        <!-- Projects Section -->
        <section id="projects-section" class="content-section">
            <div class="page-header">
                <div class="flex justify-between items-center">
                    <div>
                        <h2 class="page-title heading-font">Funding Projects</h2>
                        <p class="page-subtitle">Manage fundraising projects and track progress.</p>
                    </div>
                    <button class="btn-primary" onclick="openModal('project-modal')">
                        <i class="fas fa-plus"></i>
                        Create Project
                    </button>
                </div>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="dashboard-card">
                    <h3 class="text-lg font-bold mb-4">Youth Center Renovation</h3>
                    <p class="text-gray-600 mb-4">Upgrading our youth facilities to provide a safe, modern space for our young people.</p>
                    
                    <div class="mb-4">
                        <div class="flex justify-between text-sm mb-2">
                            <span>Progress</span>
                            <span>R65,000 / R100,000</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 65%"></div>
                        </div>
                    </div>
                    
                    <div class="flex gap-2">
                        <button class="btn-secondary" onclick="editProject('youth-center')">
                            <i class="fas fa-edit"></i>
                            Edit
                        </button>
                        <button class="btn-secondary" onclick="viewDonations('youth-center')">
                            <i class="fas fa-donate"></i>
                            Donations
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-card">
                    <h3 class="text-lg font-bold mb-4">Community Food Program</h3>
                    <p class="text-gray-600 mb-4">Providing weekly food packages to families in need within our community.</p>
                    
                    <div class="mb-4">
                        <div class="flex justify-between text-sm mb-2">
                            <span>Progress</span>
                            <span>R20,000 / R50,000</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 40%"></div>
                        </div>
                    </div>
                    
                    <div class="flex gap-2">
                        <button class="btn-secondary" onclick="editProject('food-program')">
                            <i class="fas fa-edit"></i>
                            Edit
                        </button>
                        <button class="btn-secondary" onclick="viewDonations('food-program')">
                            <i class="fas fa-donate"></i>
                            Donations
                        </button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Blog & News Section -->
        <section id="blog-section" class="content-section">
            <div class="page-header">
                <div class="flex justify-between items-center">
                    <div>
                        <h2 class="page-title heading-font">Blog & News Management</h2>
                        <p class="page-subtitle">Create and manage blog posts and news articles.</p>
                    </div>
                    <button class="btn-primary" onclick="showBlogForm()">
                        <i class="fas fa-plus"></i>
                        New Post
                    </button>
                </div>
            </div>
            
            <!-- Blog Post Form -->
            <div id="blogForm" class="dashboard-card" style="display: none; margin-bottom: 2rem;">
                <h3 id="blogFormTitle" class="text-lg font-bold mb-4">Create New Blog Post</h3>
                <form id="blogPostForm">
                    <input type="hidden" id="blogPostId">
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Title *</label>
                            <input type="text" id="blogTitle" class="form-input" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">URL Slug *</label>
                            <input type="text" id="blogSlug" class="form-input" required placeholder="url-friendly-title">
                            <small class="text-gray-600">This will be used in the URL: /blog/your-slug</small>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Excerpt</label>
                        <textarea id="blogExcerpt" class="form-textarea" rows="3" placeholder="Brief summary for previews"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Content *</label>
                        <textarea id="blogContent" class="form-textarea" rows="15" required placeholder="Write your blog post content here..."></textarea>
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Category</label>
                            <select id="blogCategory" class="form-select">
                                <option value="news">Church News</option>
                                <option value="events">Events</option>
                                <option value="sermons">Sermons</option>
                                <option value="community">Community</option>
                                <option value="announcements">Announcements</option>
                                <option value="testimonies">Testimonies</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Status</label>
                            <select id="blogStatus" class="form-select">
                                <option value="draft">Draft</option>
                                <option value="published">Published</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Tags</label>
                        <input type="text" id="blogTags" class="form-input" placeholder="Separate tags with commas">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Featured Image URL</label>
                        <input type="url" id="blogFeaturedImage" class="form-input" placeholder="https://example.com/image.jpg">
                    </div>
                    
                    <div class="flex gap-4 mt-6">
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-save"></i>
                            Save Post
                        </button>
                        <button type="button" class="btn-secondary" onclick="hideBlogForm()">
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Blog Posts List -->
            <div class="dashboard-card">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold">Blog Posts</h3>
                    <div class="flex gap-2">
                        <select id="blogFilterCategory" class="form-select" style="width: auto;" onchange="filterBlogPosts()">
                            <option value="">All Categories</option>
                            <option value="news">Church News</option>
                            <option value="events">Events</option>
                            <option value="sermons">Sermons</option>
                            <option value="community">Community</option>
                            <option value="announcements">Announcements</option>
                            <option value="testimonies">Testimonies</option>
                        </select>
                        
                        <select id="blogFilterStatus" class="form-select" style="width: auto;" onchange="filterBlogPosts()">
                            <option value="">All Status</option>
                            <option value="published">Published</option>
                            <option value="draft">Draft</option>
                        </select>
                        
                        <input type="text" id="blogSearchInput" class="form-input" style="width: 200px;" placeholder="Search posts..." onkeyup="searchBlogPosts()">
                    </div>
                </div>
                
                <div id="blogPostsList">
                    <!-- Sample blog posts -->
                    <div class="space-y-4">
                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="flex justify-between items-start">
                                <div class="flex-1">
                                    <h4 class="font-bold text-lg mb-2">Welcome to Our New Website</h4>
                                    <p class="text-gray-600 mb-2">We're excited to launch our new church website with improved features...</p>
                                    <div class="flex items-center gap-4 text-sm text-gray-500">
                                        <span><i class="fas fa-calendar mr-1"></i>July 20, 2023</span>
                                        <span><i class="fas fa-tag mr-1"></i>Announcements</span>
                                        <span class="status-badge status-active">Published</span>
                                    </div>
                                </div>
                                <div class="flex gap-2 ml-4">
                                    <button class="btn-secondary btn-sm" onclick="editBlogPost('welcome-post')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-secondary btn-sm" onclick="deleteBlogPost('welcome-post')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg p-4">
                            <div class="flex justify-between items-start">
                                <div class="flex-1">
                                    <h4 class="font-bold text-lg mb-2">Youth Summer Camp Highlights</h4>
                                    <p class="text-gray-600 mb-2">Our recent youth summer camp was filled with amazing moments of growth...</p>
                                    <div class="flex items-center gap-4 text-sm text-gray-500">
                                        <span><i class="fas fa-calendar mr-1"></i>July 18, 2023</span>
                                        <span><i class="fas fa-tag mr-1"></i>Events</span>
                                        <span class="status-badge status-draft">Draft</span>
                                    </div>
                                </div>
                                <div class="flex gap-2 ml-4">
                                    <button class="btn-secondary btn-sm" onclick="editBlogPost('youth-camp-post')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-secondary btn-sm" onclick="deleteBlogPost('youth-camp-post')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Content Management Section -->
        <section id="content-section" class="content-section">
            <div class="page-header">
                <h2 class="page-title heading-font">Content Management</h2>
                <p class="page-subtitle">Manage website content, sermons, and blog posts.</p>
            </div>
            <div class="dashboard-card">
                <p class="text-center text-gray-600">Content management features coming soon...</p>
            </div>
        </section>
        
        <section id="users-section" class="content-section">
            <div class="page-header">
                <h2 class="page-title heading-font">User Management</h2>
                <p class="page-subtitle">Manage admin users and permissions.</p>
            </div>
            <div class="dashboard-card">
                <p class="text-center text-gray-600">User management features coming soon...</p>
            </div>
        </section>
        
        <section id="analytics-section" class="content-section">
            <div class="page-header">
                <h2 class="page-title heading-font">Analytics & Reports</h2>
                <p class="page-subtitle">View website analytics and generate reports.</p>
            </div>
            <div class="dashboard-card">
                <p class="text-center text-gray-600">Analytics dashboard coming soon...</p>
            </div>
        </section>
        
        <section id="settings-section" class="content-section">
            <div class="page-header">
                <h2 class="page-title heading-font">Settings</h2>
                <p class="page-subtitle">Configure system settings and preferences.</p>
            </div>
            <div class="dashboard-card">
                <p class="text-center text-gray-600">Settings panel coming soon...</p>
            </div>
        </section>
    </div>
    
    <!-- Event Modal -->
    <div id="event-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold heading-font">Create New Event</h2>
                <button onclick="closeModal('event-modal')" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <form id="event-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Event Name *</label>
                        <input type="text" class="form-input" name="eventName" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Category *</label>
                        <select class="form-select" name="category" required>
                            <option value="">Select category...</option>
                            <option value="worship">Worship</option>
                            <option value="youth">Youth</option>
                            <option value="family">Family</option>
                            <option value="special">Special</option>
                            <option value="outreach">Outreach</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Start Date *</label>
                        <input type="datetime-local" class="form-input" name="startDate" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">End Date</label>
                        <input type="datetime-local" class="form-input" name="endDate">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Location</label>
                    <input type="text" class="form-input" name="location" placeholder="Event location">
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Max Attendees</label>
                        <input type="number" class="form-input" name="maxAttendees" min="1">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Registration Fee</label>
                        <input type="number" class="form-input" name="registrationFee" min="0" step="0.01" placeholder="0.00">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Description *</label>
                    <textarea class="form-textarea" name="description" rows="4" required placeholder="Event description..."></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Event Image URL</label>
                    <input type="url" class="form-input" name="imageUrl" placeholder="https://...">
                </div>
                
                <div class="form-group">
                    <label class="flex items-center">
                        <input type="checkbox" name="requiresRegistration" class="mr-2">
                        <span>Requires Registration</span>
                    </label>
                </div>
                
                <div class="flex gap-4 mt-6">
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-save"></i>
                        Create Event
                    </button>
                    <button type="button" class="btn-secondary" onclick="closeModal('event-modal')">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Project Modal -->
    <div id="project-modal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold heading-font">Create New Project</h2>
                <button onclick="closeModal('project-modal')" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <form id="project-form">
                <div class="form-group">
                    <label class="form-label">Project Name *</label>
                    <input type="text" class="form-input" name="projectName" required>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Funding Goal *</label>
                        <input type="number" class="form-input" name="fundingGoal" min="1" step="0.01" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Target Date</label>
                        <input type="date" class="form-input" name="targetDate">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Project Category *</label>
                    <select class="form-select" name="projectCategory" required>
                        <option value="">Select category...</option>
                        <option value="building">Building & Infrastructure</option>
                        <option value="ministry">Ministry Programs</option>
                        <option value="outreach">Community Outreach</option>
                        <option value="equipment">Equipment & Technology</option>
                        <option value="missions">Missions & Evangelism</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Description *</label>
                    <textarea class="form-textarea" name="projectDescription" rows="4" required placeholder="Describe the project and its impact..."></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Project Image URL</label>
                    <input type="url" class="form-input" name="projectImageUrl" placeholder="https://...">
                </div>
                
                <div class="form-group">
                    <label class="flex items-center">
                        <input type="checkbox" name="isUrgent" class="mr-2">
                        <span>Mark as Urgent</span>
                    </label>
                </div>
                
                <div class="flex gap-4 mt-6">
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-save"></i>
                        Create Project
                    </button>
                    <button type="button" class="btn-secondary" onclick="closeModal('project-modal')">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Contentful Integration -->
    <script src="js/contentful-client.js"></script>
    <script src="js/contentful-config.js"></script>
    <script src="js/admin.js"></script>
    
    <script>
        // Contentful configuration is now loaded from contentful-config.js
        
        // Global Contentful client instance
        let contentfulClient;
        
        // Initialize Contentful integration
        async function initializeContentful() {
            // Check if CONTENTFUL_CONFIG is defined in contentful-config.js
            if (typeof CONTENTFUL_CONFIG === 'undefined' ||
                CONTENTFUL_CONFIG.spaceId === 'your_space_id_here') {
                showContentfulSetupInstructions();
                return false;
            }
            
            try {
                // contentfulClient is already initialized in contentful-config.js
                if (window.contentfulClient) {
                    contentfulClient = window.contentfulClient;
                    console.log('✅ Using existing Contentful client');
                    updateAdminSystemForContentful();
                    return true;
                }
                
                // If not already initialized, create a new client
                contentfulClient = new ContentfulClient(
                    CONTENTFUL_CONFIG.spaceId,
                    CONTENTFUL_CONFIG.accessToken
                );
                
                const connected = await contentfulClient.init();
                if (connected) {
                    console.log('✅ Contentful connected successfully');
                    updateAdminSystemForContentful();
                    return true;
                } else {
                    throw new Error('Failed to connect to Contentful');
                }
            } catch (error) {
                console.error('❌ Contentful connection failed:', error);
                showContentfulError(error.message);
                return false;
            }
        }
        
        // Show setup instructions if Contentful not configured
        function showContentfulSetupInstructions() {
            const dashboardSection = document.getElementById('dashboard-section');
            if (dashboardSection) {
                const setupCard = document.createElement('div');
                setupCard.className = 'dashboard-card';
                setupCard.innerHTML = `
                    <div class="text-center">
                        <div class="text-blue-600 text-4xl mb-4">
                            <i class="fas fa-cog"></i>
                        </div>
                        <h3 class="text-xl font-bold text-blue-800 mb-4">Contentful Setup Required</h3>
                        <p class="text-blue-700 mb-4">
                            To enable full content management (blog posts, multi-admin, cloud storage),
                            please configure Contentful CMS.
                        </p>
                        <div class="bg-white rounded-lg p-4 text-left max-w-2xl mx-auto mb-4">
                            <h4 class="font-bold mb-2">Quick Setup:</h4>
                            <ol class="list-decimal list-inside space-y-2 text-sm">
                                <li>Create free account at <a href="https://contentful.com" target="_blank" class="text-blue-600 underline">contentful.com</a></li>
                                <li>Create a new space for your church</li>
                                <li>Get Space ID and Access Token from Settings → API keys</li>
                                <li>Update configuration in this file (lines ~935-940)</li>
                                <li>Follow the complete setup guide</li>
                            </ol>
                        </div>
                        <div class="flex gap-4 justify-center">
                            <button onclick="window.open('https://contentful.com', '_blank')"
                                    class="btn btn-primary">
                                <i class="fas fa-external-link-alt mr-2"></i>
                                Create Contentful Account
                            </button>
                            <button onclick="window.open('CONTENTFUL_SETUP_GUIDE.md', '_blank')"
                                    class="btn btn-secondary">
                                <i class="fas fa-book mr-2"></i>
                                Setup Guide
                            </button>
                        </div>
                        <div class="mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                            <p class="text-sm text-yellow-800">
                                <i class="fas fa-info-circle mr-1"></i>
                                <strong>Note:</strong> The admin system works with localStorage for now.
                                Contentful adds blog management, multi-admin support, and cloud storage.
                            </p>
                        </div>
                    </div>
                `;
                
                // Insert after the recent activity card
                const recentActivityCard = dashboardSection.querySelector('.dashboard-card');
                if (recentActivityCard && recentActivityCard.nextSibling) {
                    dashboardSection.insertBefore(setupCard, recentActivityCard.nextSibling);
                } else {
                    dashboardSection.appendChild(setupCard);
                }
            }
        }
        
        // Show Contentful connection error
        function showContentfulError(errorMessage) {
            console.error('Contentful Error:', errorMessage);
            // Could show error notification here
        }
        
        // Update admin system to use Contentful
        function updateAdminSystemForContentful() {
            // Update the AdminDashboard class to use Contentful instead of localStorage
            if (window.adminDashboard) {
                window.adminDashboard.contentfulClient = contentfulClient;
                window.adminDashboard.useContentful = true;
                
                // Refresh data from Contentful
                loadContentfulData();
            }
        }
        
        // Load data from Contentful
        async function loadContentfulData() {
            try {
                // Load events from Contentful
                const events = await contentfulClient.getEvents();
                console.log('Loaded events from Contentful:', events);
                
                // Load projects from Contentful
                const projects = await contentfulClient.getActiveProjects();
                console.log('Loaded projects from Contentful:', projects);
                
                // Load blog posts from Contentful
                const blogPosts = await contentfulClient.getPublishedBlogPosts();
                console.log('Loaded blog posts from Contentful:', blogPosts);
                
                // Update UI with Contentful data
                if (window.adminDashboard) {
                    window.adminDashboard.events = events;
                    window.adminDashboard.projects = projects;
                    window.adminDashboard.blogPosts = blogPosts;
                    
                    // Refresh displays
                    window.adminDashboard.refreshEventTable();
                    window.adminDashboard.refreshProjectsDisplay();
                    window.adminDashboard.updateDashboardStats();
                }
                
            } catch (error) {
                console.error('Error loading Contentful data:', error);
            }
        }
        
        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', async function() {
            // Initialize Contentful first
            await initializeContentful();
            
            // Then initialize the rest of the admin system
            // (This will be handled by the existing admin.js)
        });
        
        // Instructions for getting Contentful credentials
        console.log(`
        🎨 Contentful CMS Integration Setup:
        
        1. Go to https://contentful.com and create a free account
        2. Create a new space for your church
        3. Go to Settings → API keys
        4. Copy your Space ID and Content Delivery API access token
        5. Replace the placeholders in this file (lines ~935-940)
        6. Follow CONTENTFUL_SETUP_GUIDE.md for complete setup
        
        ✨ Benefits of Contentful integration:
        - Blog/news management with rich text editor
        - Multi-admin support (multiple staff can manage content)
        - Cloud storage (data synced across all devices)
        - Professional content management interface
        - Image uploads and media management
        - Content scheduling and version history
        `);
    </script>
</body>
</html>